<div class="panel panel-default">
	<div class="panel-heading">Dodaj nową książkę</div>
	<div class="panel-body">
		<form novalidate name="editBookForm">
			<div class="form-group">
				<label for="name">Nazwa</label> <input name="name" type="text"
					class="form-control" placeholder="Podaj nazwę" required
					ng-model="vm.book.name" /> <span class="help-block"
					ng-show="editBookForm.name.$touched && editBookForm.name.$invalid">
					Musisz podać nazwę książki</span>
			</div>
			<div class="form-group">
				<label for="isbn">ISBN</label> <input name="isbn" type="text"
					class="form-control" placeholder="Podaj numer ISBN" required
					ng-model="vm.book.isbn" /> <span class="help-block"
					ng-show="editBookForm.isbn.$touched && editBookForm.isbn.$invalid">
					Musisz podać poprawny numer ISBN</span>
			</div>
			<div class="form-group">
				<label for="author">Autor</label> 
				<select name="author"
					class="form-control" required ng-model="vm.book.author"
					ng-options="author.name for author in vm.authors" ng-disabled="vm.addAuthor"/> 
					<span class="help-block"
					ng-show="editBookForm.author.$touched && editBookForm.author.$invalid">
					Musisz wybrać autora książki</span>
			</div>
			<div class="checkbox">
				<label> <input type="checkbox" ng-model="vm.addAuthor" />
					Dodaj nowego autora
				</label>
			</div>
			<div class="form-group" ng-show="vm.addAuthor">
				<label for="authorName">Nazwa autora</label> 
				<input type="text" ng-model="vm.book.author.name"
					placeholder="Podaj nazwę autora" class="form-control" required />
			</div>
		</form>
		<button type="button" class="btn btn-success" ng-click="addBook()"
			ng-disabled="editBookForm.name.$invalid || editBookForm.isbn.$invalid || 
			(editBookForm.author.$invalid && !vm.addAuthor) || (editBookForm.authorName.$invalid && vm.addAuthor)">
			Zapisz
		</button>

	</div>
</div>